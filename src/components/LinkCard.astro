---
import { Globe, Gamepad2, BookOpen, ArrowUpRight } from '@lucide/astro';

interface Props {
  href: string;
  label: string;
  description: string;
  icon: 'globe' | 'gamepad-2' | 'book-open';
  index?: number;
}

const { href, label, description, icon, index = 0 } = Astro.props;

const iconMap = {
  'globe': Globe,
  'gamepad-2': Gamepad2,
  'book-open': BookOpen,
};

const IconComponent = iconMap[icon];
const delayClass = `stagger-${index + 1}`;
---

<a 
  href={href} 
  target="_blank" 
  rel="noopener noreferrer"
  class:list={[
    "group relative block no-underline text-inherit opacity-0 animate-slide-up",
    delayClass
  ]}
  aria-label={`Visit ${label}`}
>
  <!-- Card inner -->
  <div class="relative z-10 flex items-center gap-4 p-4 md:p-5 md:gap-5 bg-surface border border-border rounded-xl transition-all duration-150 group-hover:bg-surface-elevated group-hover:border-border-hover group-hover:-translate-y-0.5 group-active:translate-y-0">
    <!-- Icon wrapper -->
    <div class="flex items-center justify-center w-11 h-11 md:w-12 md:h-12 shrink-0 bg-surface-elevated border border-border rounded-[10px] text-text-secondary transition-all duration-150 group-hover:bg-highlight/20 group-hover:border-highlight group-hover:text-highlight">
      <IconComponent size={24} stroke-width={1.5} />
    </div>
    
    <!-- Content -->
    <div class="flex-1 flex flex-col gap-0.5 min-w-0">
      <span class="font-display text-base md:text-[1.0625rem] font-semibold bg-gradient-to-r from-accent to-accent/80 bg-clip-text text-transparent tracking-tight group-hover:from-highlight group-hover:to-highlight/80">{label}</span>
      <span class="font-mono text-xs md:text-[0.8125rem] text-text-muted tracking-wide">{description}</span>
    </div>
    
    <!-- Arrow -->
    <div class="flex items-center justify-center shrink-0 text-text-muted -translate-x-0.5 translate-y-0.5 transition-all duration-300 group-hover:text-accent group-hover:translate-x-0 group-hover:translate-y-0">
      <ArrowUpRight size={18} stroke-width={2} />
    </div>
  </div>
  
  <!-- Glow effect -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,var(--color-accent-soft)_0%,transparent_70%)] rounded-xl opacity-0 blur-[20px] transition-opacity duration-300 group-hover:opacity-100 z-0" aria-hidden="true"></div>
</a>
