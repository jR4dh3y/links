---
import * as icons from 'simple-icons';
import { Linkedin } from '@lucide/astro';

interface SocialLinkData {
  href: string;
  label: string;
  icon: 'github' | 'linkedin' | 'twitter' | 'mail' | 'discord' | 'steam';
}

interface Props {
  links: SocialLinkData[];
}

const { links } = Astro.props;

const simpleIconMap: Record<string, any> = {
  'github': icons.siGithub,
  'twitter': icons.siX,
  'mail': icons.siGmail,
  'discord': icons.siDiscord,
  'steam': icons.siSteam,
};

// Green highlight hover for all social icons
const hoverColors: Record<string, string> = {
  'GitHub': 'hover:border-highlight hover:text-highlight',
  'LinkedIn': 'hover:border-highlight hover:text-highlight',
  'X': 'hover:border-highlight hover:text-highlight',
  'Email': 'hover:border-highlight hover:text-highlight',
  'Discord': 'hover:border-highlight hover:text-highlight',
  'Steam': 'hover:border-highlight hover:text-highlight',
};
---

<nav class="opacity-0 animate-fade-in animation-delay-500" aria-label="Social media links">
  <ul class="flex items-center justify-center gap-2 list-none m-0 p-0 md:justify-start md:gap-3">
    {links.map((link, index) => {
      const iconData = simpleIconMap[link.icon];
      const hoverClass = hoverColors[link.label] || 'hover:border-border-hover hover:text-text-primary';
      const isLinkedIn = link.icon === 'linkedin';
      return (
        <li class="opacity-0 animate-fade-in" style={`animation-delay: ${0.4 + index * 0.05}s`}>
          <a 
            href={link.href}
            target={link.icon === 'mail' ? '_self' : '_blank'}
            rel={link.icon === 'mail' ? undefined : 'noopener noreferrer'}
            class:list={[
              "flex items-center justify-center w-10 h-10 md:w-11 md:h-11 rounded-[10px] bg-transparent border border-border text-text-secondary no-underline transition-all duration-150 hover:-translate-y-0.5 active:translate-y-0",
              hoverClass
            ]}
            aria-label={link.label}
            title={link.label}
          >
            {isLinkedIn ? (
              <Linkedin size={20} stroke-width={1.5} />
            ) : iconData ? (
              <svg 
                role="img" 
                viewBox="0 0 24 24" 
                width="20" 
                height="20" 
                fill="currentColor"
              >
                <path d={iconData.path} />
              </svg>
            ) : null}
          </a>
        </li>
      );
    })}
  </ul>
</nav>
