---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProfileHeader from '../components/ProfileHeader.astro';
import LinkCard from '../components/LinkCard.astro';
import SocialLinks from '../components/SocialLinks.astro';
import { profile, mainLinks, socialLinks } from '../data/links';

const githubUsername = 'jr4dh3y';
---

<BaseLayout>
  <main class="w-full h-dvh flex flex-col">
    <!-- Mobile Layout: Single glass box (< 768px) -->
    <div class="flex flex-col items-center justify-center flex-1 p-5 md:hidden">
      <div class="w-full max-w-[400px] backdrop-blur-[16px] bg-surface-dark/40 border border-white/10 rounded-2xl p-6 shadow-2xl">
        <div class="flex flex-col gap-6">
          <ProfileHeader name={profile.name} tagline={profile.tagline} githubUsername={githubUsername} />
          
          <section class="flex flex-col gap-3" aria-label="Main links">
            {mainLinks.map((link, index) => (
              <LinkCard 
                href={link.href}
                label={link.label}
                description={link.description}
                icon={link.icon}
                index={index}
              />
            ))}
          </section>

          <section class="flex justify-center" aria-label="Social links">
            <SocialLinks links={socialLinks} />
          </section>
        </div>
      </div>
    </div>

    <!-- Desktop Layout: Two separate glass boxes (>= 768px) -->
    <div class="hidden md:flex md:gap-10 lg:gap-16 h-dvh max-w-[1300px] mx-auto px-8 lg:px-16 py-12 lg:py-16 items-center justify-center">
      <!-- Left glass box -->
      <div class="w-[380px] lg:w-[415px] flex-shrink-0 backdrop-blur-[20px] bg-surface-dark/40 border border-white/10 rounded-2xl p-8 lg:p-10 shadow-2xl">
        <div class="flex flex-col gap-6">
          <ProfileHeader name={profile.name} tagline={profile.tagline} githubUsername={githubUsername} />
          <SocialLinks links={socialLinks} />
        </div>
      </div>

      <!-- Right glass box - links (much wider) -->
      <div class="w-[600px] lg:w-[600px] flex-shrink-0 backdrop-blur-[20px] bg-surface-dark/40 border border-white/10 rounded-2xl p-8 lg:p-12 shadow-2xl">
        <section class="flex flex-col gap-4" aria-label="Main links">
          <h2 class="font-mono text-[0.6875rem] font-medium uppercase tracking-[0.15em] text-text-muted mb-1 opacity-0 animate-fade-in animation-delay-300">
            Explore
          </h2>
          <div class="flex flex-col gap-4">
            {mainLinks.map((link, index) => (
              <LinkCard 
                href={link.href}
                label={link.label}
                description={link.description}
                icon={link.icon}
                index={index}
              />
            ))}
          </div>
        </section>
      </div>
    </div>
  </main>
</BaseLayout>
